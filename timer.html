<head>

</head>
<!DOCTYPE html>
<html>
<head>
	<title>計時器</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<style type="text/css"> 
	.stattCountDown ,.asking ,.next, .pause{
		font-size: 200px;
		margin: 5px;
	}

	.countDownSec ,.askSec{
		border: 0px;
		text-align: center;
		font-size: 200px;
		width: 50%;
		min-width: 10px;
	}

	.oprationZone{
		width: 100%;
		text-align: center;
	}
	</style> 
</head>
<body>
	<div id="oprationZone" class="oprationZone">
		<input type="text" id="countDownSec" class="countDownSec" value="120"><br>
		<input type="button" id="stattCountDown" class="stattCountDown" value="開始" onclick="starting()">
		<input type="button" id="asking" class="asking" value="詢問" onclick="asking()"><br>
		<input type="text" id="askSec" class="askSec" value="5"><br>
		<input type="button" id="next" class="next" value="換人" onclick="next()">
		<input type="button" id="pause" class="pause" value="暫停" onclick="pause()"><br>
	</div>
	<div id="debugZone" class="debugZone" style="display: none;">
		<input type="text" id="starting" class="starting" value="0"><br>
		<input type="text" id="pausing" class="pausing" value="0"><br>
	</div>
</body>
</html>
<script type="text/javascript">
	
	function starting(){
		if (document.getElementById("starting").value == 0){
			setTimeout(startCountDown, 1000);
		}
	}
	function startCountDown(){
		if (document.getElementById("pausing").value == 1){
			return 0;
		}
		if(document.getElementById("countDownSec").value <= 0){
			document.getElementById("countDownSec").value = 121;
			document.getElementById("starting").value = 0;
			setTimeout(startCountDown, 1000);
		}else{
			document.getElementById("starting").value = 1;
			setTimeout(startCountDown, 1000);
		}
		document.getElementById("countDownSec").value--; 
	}

	function pause()
	{
		if (document.getElementById("pausing").value == 0){
			document.getElementById("pausing").value = 1;
		}else{
			document.getElementById("pausing").value = 0;
			setTimeout(startCountDown, 1000);
		}
	}

	function asking()
	{
		if (document.getElementById("pausing").value == 0){
			document.getElementById("pausing").value = 1;
		}
		if(document.getElementById("askSec").value <= 0){
			document.getElementById("askSec").value = 6;
			document.getElementById("pausing").value = 0;
			setTimeout(startCountDown, 1000);
		}else{
			setTimeout(asking, 1000);
		}
		document.getElementById("askSec").value--; 
	}

	function next(){
		document.getElementById("countDownSec").value = 120;
	}
</script>